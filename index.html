<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Funnel Audit - Discover Your Conversion Score</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .score-circle {
            background: conic-gradient(#10b981 0deg, #10b981 var(--percentage), #e5e7eb var(--percentage));
        }
        .checkbox-custom {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .checkbox-custom:checked {
            background-color: #10b981;
            border-color: #10b981;
        }
        .checkbox-custom:checked::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        .section-card {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        .section-card.completed {
            border-left-color: #10b981;
            background-color: #f0fdf4;
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .timer-warning {
            animation: flash 1s infinite;
        }
        @keyframes flash {
            0%, 50% { background-color: #fef2f2; }
            51%, 100% { background-color: #fee2e2; }
        }
        .timer-critical {
            animation: flashRed 0.5s infinite;
        }
        @keyframes flashRed {
            0%, 50% { background-color: #dc2626; color: white; }
            51%, 100% { background-color: #ef4444; color: white; }
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">
                üéØ Free Funnel Audit
            </h1>
            <p class="text-xl md:text-2xl mb-6 opacity-90">
                Discover Your Conversion Score in 3 Minutes
            </p>
            <div class="bg-white bg-opacity-20 rounded-lg p-4 inline-block">
                <p class="text-lg">
                    <i class="fas fa-users mr-2"></i>
                    <strong>2,847+</strong> businesses have improved their funnels with this audit
                </p>
            </div>
        </div>
    </header>

    <!-- Timer & Score Dashboard -->
    <div class="bg-white shadow-lg sticky top-0 z-50 border-b">
        <div class="container mx-auto px-4 py-4">
            <!-- Timer Section -->
            <div id="timer-section" class="text-center mb-4 p-3 rounded-lg bg-blue-50 border border-blue-200">
                <div class="flex items-center justify-center space-x-4">
                    <i class="fas fa-clock text-blue-600 text-xl"></i>
                    <div>
                        <p class="text-sm text-blue-700 font-medium">Complete your audit in:</p>
                        <div id="timer-display" class="text-2xl font-bold text-blue-800">3:00</div>
                    </div>
                    <div class="text-right">
                        <p class="text-xs text-blue-600">Progress</p>
                        <div class="w-24 bg-blue-200 rounded-full h-2">
                            <div id="progress-bar" class="progress-bar bg-blue-600 h-2 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex flex-col md:flex-row items-center justify-between">
                <div class="flex items-center space-x-6 mb-4 md:mb-0">
                    <div class="relative">
                        <div class="w-16 h-16 rounded-full score-circle flex items-center justify-center" style="--percentage: 0deg;">
                            <span id="score-display" class="text-2xl font-bold text-gray-800">0</span>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">Your Funnel Score</h3>
                        <p id="score-status" class="text-gray-600">Complete the audit to see your score</p>
                    </div>
                </div>
                <div class="flex space-x-4">
                    <button id="copy-results" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50" disabled>
                        <i class="fas fa-copy mr-2"></i>Copy Results
                    </button>
                    <button id="download-pdf" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50" disabled>
                        <i class="fas fa-download mr-2"></i>Download PDF
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Time's Up Modal -->
    <div id="times-up-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg p-8 max-w-md w-full text-center">
                <div class="text-6xl mb-4">‚è∞</div>
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Time's Almost Up!</h2>
                <p class="text-gray-600 mb-6">
                    Don't worry - it looks like your funnel needs some serious help. 
                    Let's get you the personalized review you need.
                </p>
                <div id="grace-timer" class="text-3xl font-bold text-red-600 mb-6">60</div>
                <button id="book-now-urgent" class="bg-red-600 text-white px-8 py-3 rounded-lg font-bold text-lg hover:bg-red-700 transition-colors pulse-animation w-full">
                    üìû Book Your FREE Funnel Review Now
                </button>
                <p class="text-sm text-gray-500 mt-4">
                    This window will auto-redirect in <span id="grace-countdown">60</span> seconds
                </p>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            
            <!-- Instructions -->
            <div class="bg-blue-50 border-l-4 border-blue-400 p-6 mb-8 rounded-r-lg">
                <div class="flex items-start">
                    <i class="fas fa-info-circle text-blue-400 text-xl mr-3 mt-1"></i>
                    <div>
                        <h3 class="text-lg font-semibold text-blue-800 mb-2">How This Works</h3>
                        <p class="text-blue-700">
                            Check each box that applies to your current funnel. Your score will update in real-time. 
                            Complete the audit to get personalized recommendations and book a free strategy call.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Audit Sections -->
            <div class="space-y-8">
                
                <!-- Traffic & Targeting -->
                <div class="section-card bg-white rounded-lg shadow-md p-6" data-section="traffic">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-bullseye text-blue-600 mr-3"></i>
                            Traffic & Targeting
                        </h2>
                        <div class="bg-gray-100 px-3 py-1 rounded-full">
                            <span class="section-score text-sm font-semibold">0/20</span>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Clear Target Audience (5 pts)</span>
                                <p class="text-gray-600 text-sm">Your funnel speaks to ONE specific audience with specific problems</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Traffic Source Alignment (5 pts)</span>
                                <p class="text-gray-600 text-sm">Your traffic source matches your audience's preferred platforms</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Message-Market Match (5 pts)</span>
                                <p class="text-gray-600 text-sm">Your headline addresses your audience's #1 pain point immediately</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Mobile Optimization (5 pts)</span>
                                <p class="text-gray-600 text-sm">Funnel loads fast and looks perfect on mobile devices</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Hook & Headlines -->
                <div class="section-card bg-white rounded-lg shadow-md p-6" data-section="hook">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-fire text-red-600 mr-3"></i>
                            Hook & Headlines
                        </h2>
                        <div class="bg-gray-100 px-3 py-1 rounded-full">
                            <span class="section-score text-sm font-semibold">0/25</span>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Attention-Grabbing Headline (5 pts)</span>
                                <p class="text-gray-600 text-sm">First thing visitors see makes them stop scrolling instantly</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Clear Value Proposition (5 pts)</span>
                                <p class="text-gray-600 text-sm">Visitors understand exactly what you offer within 3 seconds</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Pain Point Agitation (5 pts)</span>
                                <p class="text-gray-600 text-sm">You clearly identify and amplify their biggest frustration</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Benefit-Focused Copy (5 pts)</span>
                                <p class="text-gray-600 text-sm">Focus on outcomes they'll achieve, not features you provide</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Emotional Trigger (5 pts)</span>
                                <p class="text-gray-600 text-sm">Copy creates urgency, desire, or fear of missing out</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Social Proof -->
                <div class="section-card bg-white rounded-lg shadow-md p-6" data-section="proof">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-star text-yellow-600 mr-3"></i>
                            Social Proof
                        </h2>
                        <div class="bg-gray-100 px-3 py-1 rounded-full">
                            <span class="section-score text-sm font-semibold">0/20</span>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Credibility Indicators (5 pts)</span>
                                <p class="text-gray-600 text-sm">Testimonials, reviews, case studies, or client logos visible</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Specific Results (5 pts)</span>
                                <p class="text-gray-600 text-sm">Numbers, percentages, or concrete outcomes (not vague claims)</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Relatable Success Stories (5 pts)</span>
                                <p class="text-gray-600 text-sm">Stories from people similar to your target audience</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Trust Signals (5 pts)</span>
                                <p class="text-gray-600 text-sm">Professional photos, contact info, guarantees, or certifications</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Offer & Pricing -->
                <div class="section-card bg-white rounded-lg shadow-md p-6" data-section="offer">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-dollar-sign text-green-600 mr-3"></i>
                            Offer & Pricing
                        </h2>
                        <div class="bg-gray-100 px-3 py-1 rounded-full">
                            <span class="section-score text-sm font-semibold">0/20</span>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Clear Offer Description (5 pts)</span>
                                <p class="text-gray-600 text-sm">Visitors know exactly what they're getting</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Value Stacking (5 pts)</span>
                                <p class="text-gray-600 text-sm">Multiple benefits/bonuses that exceed the price</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Price Anchoring (5 pts)</span>
                                <p class="text-gray-600 text-sm">Price feels like a bargain compared to the value provided</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Risk Reversal (5 pts)</span>
                                <p class="text-gray-600 text-sm">Guarantee, trial period, or money-back promise</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Call-to-Action -->
                <div class="section-card bg-white rounded-lg shadow-md p-6" data-section="cta">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-mouse-pointer text-purple-600 mr-3"></i>
                            Call-to-Action
                        </h2>
                        <div class="bg-gray-100 px-3 py-1 rounded-full">
                            <span class="section-score text-sm font-semibold">0/15</span>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Single, Clear CTA (5 pts)</span>
                                <p class="text-gray-600 text-sm">One primary action you want visitors to take</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Action-Oriented Language (5 pts)</span>
                                <p class="text-gray-600 text-sm">Button text creates urgency ("Get Instant Access" vs "Submit")</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">CTA Visibility (5 pts)</span>
                                <p class="text-gray-600 text-sm">Button stands out with contrasting colors and placement</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Urgency & Scarcity -->
                <div class="section-card bg-white rounded-lg shadow-md p-6" data-section="urgency">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-clock text-orange-600 mr-3"></i>
                            Urgency & Scarcity
                        </h2>
                        <div class="bg-gray-100 px-3 py-1 rounded-full">
                            <span class="section-score text-sm font-semibold">0/15</span>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Time-Sensitive Elements (5 pts)</span>
                                <p class="text-gray-600 text-sm">Countdown timer, limited-time offer, or deadline mentioned</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Limited Availability (5 pts)</span>
                                <p class="text-gray-600 text-sm">"Only X spots left" or "Limited quantity" messaging</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Consequence of Waiting (5 pts)</span>
                                <p class="text-gray-600 text-sm">Clear cost of not taking action now</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Follow-up & Retention -->
                <div class="section-card bg-white rounded-lg shadow-md p-6" data-section="followup">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-sync text-indigo-600 mr-3"></i>
                            Follow-up & Retention
                        </h2>
                        <div class="bg-gray-100 px-3 py-1 rounded-full">
                            <span class="section-score text-sm font-semibold">0/15</span>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Email Capture System (5 pts)</span>
                                <p class="text-gray-600 text-sm">Lead magnet or email sequence for non-buyers</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Immediate Value Delivery (5 pts)</span>
                                <p class="text-gray-600 text-sm">Instant gratification after opt-in or purchase</p>
                            </div>
                        </label>
                        
                        <label class="flex items-start space-x-3 cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors">
                            <input type="checkbox" class="checkbox-custom mt-1" data-points="5">
                            <div>
                                <span class="font-semibold text-gray-800">Nurture Sequence (5 pts)</span>
                                <p class="text-gray-600 text-sm">Automated follow-up emails that build trust and drive sales</p>
                            </div>
                        </label>
                    </div>
                </div>

            </div>

            <!-- Results Section -->
            <div id="results-section" class="mt-12 bg-white rounded-lg shadow-lg p-8 border-2 border-gray-200" style="display: none;">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Your Funnel Audit Results</h2>
                    <div class="flex items-center justify-center space-x-8">
                        <div class="text-center">
                            <div class="w-24 h-24 rounded-full score-circle flex items-center justify-center mx-auto mb-2" id="final-score-circle">
                                <span id="final-score" class="text-3xl font-bold text-gray-800">0</span>
                            </div>
                            <p class="text-gray-600">Your Score</p>
                        </div>
                        <div class="text-center">
                            <div class="w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mx-auto mb-2">
                                <span class="text-3xl font-bold text-gray-800">130</span>
                            </div>
                            <p class="text-gray-600">Maximum</p>
                        </div>
                    </div>
                </div>

                <div id="score-analysis" class="mb-8">
                    <!-- Dynamic content based on score -->
                </div>

                <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg p-6 text-center">
                    <h3 class="text-2xl font-bold mb-4">Ready to Fix Your Funnel?</h3>
                    <p class="text-lg mb-6 opacity-90">
                        Get a personalized funnel review and custom action plan to boost your conversions
                    </p>
                    <button id="book-review-btn" class="bg-white text-blue-600 px-8 py-3 rounded-lg font-bold text-lg hover:bg-gray-100 transition-colors pulse-animation">
                        üìû Book Your FREE Funnel Review
                    </button>
                    <p class="text-sm mt-4 opacity-75">
                        15-minute call ‚Ä¢ No sales pitch ‚Ä¢ Actionable insights guaranteed
                    </p>
                </div>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-16">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-400">
                ¬© 2025 Marketing Solutions Freelancer. This audit has helped 2,847+ businesses improve their funnels.
            </p>
        </div>
    </footer>

    <script>
        // Audit functionality
        let totalScore = 0;
        let maxScore = 130;
        let timeRemaining = 3 * 60; // 3 minutes in seconds
        let timerInterval;
        let graceTimeRemaining = 60; // 60 seconds grace period
        let graceInterval;
        let auditCompleted = false;
        let checkedBoxes = 0;
        let totalBoxes = 26; // Total number of checkboxes
        
        // Section max scores
        const sectionMaxScores = {
            'traffic': 20,
            'hook': 25,
            'proof': 20,
            'offer': 20,
            'cta': 15,
            'urgency': 15,
            'followup': 15
        };

        // Track section scores
        let sectionScores = {
            'traffic': 0,
            'hook': 0,
            'proof': 0,
            'offer': 0,
            'cta': 0,
            'urgency': 0,
            'followup': 0
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            const checkboxes = document.querySelectorAll('.checkbox-custom');
            
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateScore);
            });

            // Button event listeners
            document.getElementById('copy-results').addEventListener('click', copyResults);
            document.getElementById('download-pdf').addEventListener('click', downloadPDF);
            document.getElementById('book-review-btn').addEventListener('click', bookReview);
            document.getElementById('book-now-urgent').addEventListener('click', bookReview);

            // Start timer
            startTimer();
        });

        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    showTimesUpModal();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            const timerDisplay = document.getElementById('timer-display');
            const timerSection = document.getElementById('timer-section');
            
            timerDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // Update timer styling based on time remaining
            if (timeRemaining <= 60) {
                timerSection.className = 'text-center mb-4 p-3 rounded-lg timer-critical';
            } else if (timeRemaining <= 90) { // 1.5 minutes
                timerSection.className = 'text-center mb-4 p-3 rounded-lg timer-warning';
            }
            
            // Update progress bar
            const progressPercentage = ((3 * 60 - timeRemaining) / (3 * 60)) * 100;
            document.getElementById('progress-bar').style.width = progressPercentage + '%';
        }

        function showTimesUpModal() {
            const modal = document.getElementById('times-up-modal');
            modal.classList.remove('hidden');
            
            // Start grace period countdown
            graceInterval = setInterval(() => {
                graceTimeRemaining--;
                document.getElementById('grace-timer').textContent = graceTimeRemaining;
                document.getElementById('grace-countdown').textContent = graceTimeRemaining;
                
                if (graceTimeRemaining <= 0) {
                    clearInterval(graceInterval);
                    // Auto-redirect to booking
                    bookReview();
                }
            }, 1000);
        }

        function updateScore() {
            // Reset scores
            totalScore = 0;
            checkedBoxes = 0;
            Object.keys(sectionScores).forEach(key => {
                sectionScores[key] = 0;
            });

            // Calculate scores
            const checkboxes = document.querySelectorAll('.checkbox-custom:checked');
            checkboxes.forEach(checkbox => {
                const points = parseInt(checkbox.dataset.points);
                const section = checkbox.closest('.section-card').dataset.section;
                
                totalScore += points;
                sectionScores[section] += points;
                checkedBoxes++;
            });

            // Update displays
            updateScoreDisplay();
            updateSectionScores();
            
            // Only show results if they've made significant progress (50%+ completion)
            const completionPercentage = (checkedBoxes / totalBoxes) * 100;
            if (completionPercentage >= 50 || checkedBoxes >= 13) {
                updateResultsSection();
            }
            
            // Enable buttons if score > 0
            const copyBtn = document.getElementById('copy-results');
            const downloadBtn = document.getElementById('download-pdf');
            
            if (totalScore > 0) {
                copyBtn.disabled = false;
                downloadBtn.disabled = false;
            }

            // Check if audit is completed (all boxes checked)
            if (checkedBoxes === totalBoxes) {
                auditCompleted = true;
                clearInterval(timerInterval);
                document.getElementById('timer-section').innerHTML = `
                    <div class="text-center p-3 rounded-lg bg-green-50 border border-green-200">
                        <i class="fas fa-check-circle text-green-600 text-xl mr-2"></i>
                        <span class="text-green-800 font-semibold">Audit Completed!</span>
                    </div>
                `;
            }
        }

        function updateScoreDisplay() {
            const scoreDisplay = document.getElementById('score-display');
            const scoreStatus = document.getElementById('score-status');
            const scoreCircles = document.querySelectorAll('.score-circle');
            
            scoreDisplay.textContent = totalScore;
            
            // Update percentage for circle
            const percentage = (totalScore / maxScore) * 360;
            scoreCircles.forEach(circle => {
                circle.style.setProperty('--percentage', percentage + 'deg');
            });

            // Update status
            if (totalScore === 0) {
                scoreStatus.textContent = 'Complete the audit to see your score';
            } else if (totalScore < 70) {
                scoreStatus.textContent = 'üö® Conversion Killer - Major issues detected';
                scoreStatus.className = 'text-red-600 font-semibold';
            } else if (totalScore < 90) {
                scoreStatus.textContent = '‚ö†Ô∏è Needs Improvement - Good foundation';
                scoreStatus.className = 'text-yellow-600 font-semibold';
            } else if (totalScore < 110) {
                scoreStatus.textContent = 'üéØ High Performer - Strong funnel';
                scoreStatus.className = 'text-blue-600 font-semibold';
            } else {
                scoreStatus.textContent = 'üèÜ Conversion Machine - Excellent!';
                scoreStatus.className = 'text-green-600 font-semibold';
            }
        }

        function updateSectionScores() {
            Object.keys(sectionScores).forEach(section => {
                const sectionCard = document.querySelector(`[data-section="${section}"]`);
                const scoreDisplay = sectionCard.querySelector('.section-score');
                const currentScore = sectionScores[section];
                const maxScore = sectionMaxScores[section];
                
                scoreDisplay.textContent = `${currentScore}/${maxScore}`;
                
                // Add completed class if section is fully completed
                if (currentScore === maxScore) {
                    sectionCard.classList.add('completed');
                } else {
                    sectionCard.classList.remove('completed');
                }
            });
        }

        function updateResultsSection() {
            const resultsSection = document.getElementById('results-section');
            const finalScore = document.getElementById('final-score');
            const finalScoreCircle = document.getElementById('final-score-circle');
            const scoreAnalysis = document.getElementById('score-analysis');
            
            resultsSection.style.display = 'block';
            finalScore.textContent = totalScore;
            
            // Update final score circle
            const percentage = (totalScore / maxScore) * 360;
            finalScoreCircle.style.setProperty('--percentage', percentage + 'deg');
            
            // Generate analysis
            let analysis = '';
            let recommendations = [];
            
            if (totalScore < 70) {
                analysis = `
                    <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-6">
                        <h4 class="text-lg font-semibold text-red-800 mb-2">üö® Conversion Killer (${totalScore}/130)</h4>
                        <p class="text-red-700">Your funnel has major issues that are preventing sales. Focus on the biggest gaps first.</p>
                    </div>
                `;
                recommendations = [
                    'Fix your headline to address your audience\'s #1 pain point',
                    'Add social proof (testimonials, reviews, case studies)',
                    'Create a clear, compelling offer with obvious value',
                    'Implement urgency and scarcity elements',
                    'Set up email capture for non-buyers'
                ];
            } else if (totalScore < 90) {
                analysis = `
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                        <h4 class="text-lg font-semibold text-yellow-800 mb-2">‚ö†Ô∏è Needs Improvement (${totalScore}/130)</h4>
                        <p class="text-yellow-700">Good foundation but missing key conversion elements. Small improvements will yield big results.</p>
                    </div>
                `;
                recommendations = [
                    'Strengthen your social proof with specific results',
                    'Optimize your call-to-action buttons and placement',
                    'Add urgency elements to encourage immediate action',
                    'Improve your value proposition clarity',
                    'Set up automated follow-up sequences'
                ];
            } else if (totalScore < 110) {
                analysis = `
                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
                        <h4 class="text-lg font-semibold text-blue-800 mb-2">üéØ High Performer (${totalScore}/130)</h4>
                        <p class="text-blue-700">Strong funnel with room for optimization. Focus on testing and fine-tuning.</p>
                    </div>
                `;
                recommendations = [
                    'A/B test different headlines and offers',
                    'Add more specific social proof elements',
                    'Optimize mobile experience',
                    'Test different urgency and scarcity approaches',
                    'Implement advanced follow-up sequences'
                ];
            } else {
                analysis = `
                    <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-6">
                        <h4 class="text-lg font-semibold text-green-800 mb-2">üèÜ Conversion Machine (${totalScore}/130)</h4>
                        <p class="text-green-700">Excellent funnel! Focus on scaling traffic and advanced optimization.</p>
                    </div>
                `;
                recommendations = [
                    'Scale your traffic sources',
                    'Test advanced personalization',
                    'Implement dynamic content based on traffic source',
                    'Add video testimonials and case studies',
                    'Create advanced segmentation in follow-up'
                ];
            }
            
            // Add recommendations
            analysis += `
                <div class="bg-gray-50 rounded-lg p-6">
                    <h4 class="text-lg font-semibold text-gray-800 mb-4">üéØ Priority Action Items:</h4>
                    <ul class="space-y-2">
                        ${recommendations.map(rec => `<li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i><span>${rec}</span></li>`).join('')}
                    </ul>
                </div>
            `;
            
            scoreAnalysis.innerHTML = analysis;
            
            // Don't auto-scroll - let them finish the audit
        }

        function copyResults() {
            const results = generateResultsText();
            navigator.clipboard.writeText(results).then(() => {
                const btn = document.getElementById('copy-results');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check mr-2"></i>Copied!';
                btn.classList.add('bg-green-600');
                
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.remove('bg-green-600');
                }, 2000);
            });
        }

        function generateResultsText() {
            let text = `FUNNEL AUDIT RESULTS\n`;
            text += `========================\n\n`;
            text += `Total Score: ${totalScore}/130\n\n`;
            
            text += `SECTION BREAKDOWN:\n`;
            Object.keys(sectionScores).forEach(section => {
                const sectionName = section.charAt(0).toUpperCase() + section.slice(1);
                text += `${sectionName}: ${sectionScores[section]}/${sectionMaxScores[section]}\n`;
            });
            
            text += `\nSTATUS: `;
            if (totalScore < 70) {
                text += `üö® Conversion Killer - Major issues detected\n`;
            } else if (totalScore < 90) {
                text += `‚ö†Ô∏è Needs Improvement - Good foundation\n`;
            } else if (totalScore < 110) {
                text += `üéØ High Performer - Strong funnel\n`;
            } else {
                text += `üèÜ Conversion Machine - Excellent!\n`;
            }
            
            text += `\nGenerated by: Marketing Solutions Freelancer Funnel Audit\n`;
            text += `Book your free funnel review: [Your Booking Link]`;
            
            return text;
        }

        function downloadPDF() {
            // This would integrate with a PDF generation service
            // For now, we'll show a message
            alert('PDF download feature coming soon! Use the copy button to save your results.');
        }

        function bookReview() {
            // Redirect to booking page with audit data
            const urlParams = new URLSearchParams();
            urlParams.append('score', totalScore);
            urlParams.append('source', 'funnel_audit');
            if (auditCompleted) {
                urlParams.append('completed', 'true');
            } else {
                urlParams.append('completed', 'false');
                urlParams.append('reason', 'time_expired');
            }
            
            // Redirect to booking page
            window.location.href = 'booking.html?' + urlParams.toString();
        }

        // Smooth scrolling for better UX
        document.addEventListener('DOMContentLoaded', function() {
            // Add intersection observer for animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            document.querySelectorAll('.section-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'all 0.6s ease';
                observer.observe(card);
            });
        });
    </script>
</body>
</html>

